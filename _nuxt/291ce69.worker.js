/*! For license information please see LICENSES */
!function(e){var o={};function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(r,n,function(o){return e[o]}.bind(null,n));return r},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},t.p="/_nuxt/",t(t.s=0)}([function(e,o,t){"use strict";function r(a,b,e){return a<b?(e-a)/(b-a):(a-e)/(a-b)}function n(){this.successCallback=null,this.verbose=!1,this.polygons=!1,this.polygons_full=!1,this.linearRing=!0,this.noQuadTree=!1,this.noFrame=!1}function l(e,o,t,r){var n=[];return e.polygons.forEach((function(p){p.forEach((function(e){e[0]+=o,e[1]+=t})),r.linearRing&&p.push(p[0]),n.push(p)})),n}function h(e,o,t,path){return 0===t?(e+=1,o+=path[0][1]):1===t?e+=path[0][0]:2===t?o+=path[0][1]:3===t&&(e+=path[0][0],o+=1),[e,o]}function c(e,o,t){return 0===t?e++:1===t||(2===t?o++:3===t&&(e++,o++)),[e,o]}function d(data,e,o,t,r){var n=t,l=r,h=0,c=0;if(this.x=e,this.y=o,this.lowerBound=null,this.upperBound=null,this.childA=null,this.childB=null,this.childC=null,this.childD=null,1===t&&1===r)this.lowerBound=Math.min(data[o][e],data[o][e+1],data[o+1][e+1],data[o+1][e]),this.upperBound=Math.max(data[o][e],data[o][e+1],data[o+1][e+1],data[o+1][e]);else{if(t>1){for(;0!==n;)n>>=1,h++;t===1<<h-1&&h--,n=1<<h-1}if(r>1){for(;0!==l;)l>>=1,c++;r===1<<c-1&&c--,l=1<<c-1}this.childA=new d(data,e,o,n,l),this.lowerBound=this.childA.lowerBound,this.upperBound=this.childA.upperBound,t-n>0&&(this.childB=new d(data,e+n,o,t-n,l),this.lowerBound=Math.min(this.lowerBound,this.childB.lowerBound),this.upperBound=Math.max(this.upperBound,this.childB.upperBound),r-l>0&&(this.childC=new d(data,e+n,o+l,t-n,r-l),this.lowerBound=Math.min(this.lowerBound,this.childC.lowerBound),this.upperBound=Math.max(this.upperBound,this.childC.upperBound))),r-l>0&&(this.childD=new d(data,e,o+l,n,r-l),this.lowerBound=Math.min(this.lowerBound,this.childD.lowerBound),this.upperBound=Math.max(this.upperBound,this.childD.upperBound))}}function f(data){var i,e;if(!data)throw new Error("data is required");if(!Array.isArray(data)||!Array.isArray(data[0]))throw new Error("data must be scalar field, i.e. array of arrays");if(data.length<2)throw new Error("data must contain at least two rows");if((e=data[0].length)<2)throw new Error("data must contain at least two columns");for(i=1;i<data.length;i++){if(!Array.isArray(data[i]))throw new Error("Row "+i+" is not an array");if(data[i].length!=e)throw new Error("unequal row lengths detected, please provide a regular grid")}this.data=data,this.root=new d(data,0,0,data[0].length-1,data.length-1)}function y(input,e,o){var t,i,d,y=!1,w=!1,v=null,B=null,data=null,x=null,k=null,_=[];if(!input)throw new Error("data is required");if(null==e)throw new Error("threshold is required");if(o&&"object"!=typeof o)throw new Error("options must be an object");if(t=function(e){var i,o,t,l,h;for(l=new n,e=e||{},h=Object.keys(l),i=0;i<h.length;i++)null!=(t=e[o=h[i]])&&(l[o]=t);return l.polygons_full=!l.polygons,l.interpolate=r,l}(o),input instanceof f)v=input,B=input.root,data=input.data,t.noQuadTree||(y=!0);else{if(!Array.isArray(input)||!Array.isArray(input[0]))throw new Error("input is neither array of arrays nor object retrieved from 'QuadTree()'");data=input}if(Array.isArray(e)){for(w=!0,t.noQuadTree||(y=!0),i=0;i<e.length;i++)if(isNaN(+e[i]))throw new Error("threshold["+i+"] is not a number")}else{if(isNaN(+e))throw new Error("threshold must be a number or array of numbers");e=[e]}return y&&!B&&(v=new f(data),B=v.root,data=v.data),t.verbose&&(t.polygons?console.log("MarchingSquaresJS-isoLines: returning single lines (polygons) for each grid cell"):console.log("MarchingSquaresJS-isoLines: returning line paths (polygons) for entire data grid"),w&&console.log("MarchingSquaresJS-isoLines: multiple lines requested, returning array of line paths instead of lines for a single threshold")),e.forEach((function(e,i){if(k=[],t.threshold=e,t.verbose&&console.log("MarchingSquaresJS-isoLines: computing iso lines for threshold "+e),t.polygons)if(y)B.cellsBelowThreshold(t.threshold,!0).forEach((function(e){k=k.concat(l(m(data,e.x,e.y,t),e.x,e.y,t))}));else for(d=0;d<data.length-1;++d)for(i=0;i<data[0].length-1;++i)k=k.concat(l(m(data,i,d,t),i,d,t));else{for(x=[],i=0;i<data[0].length-1;++i)x[i]=[];if(y)B.cellsBelowThreshold(t.threshold,!1).forEach((function(e){x[e.x][e.y]=m(data,e.x,e.y,t)}));else for(i=0;i<data[0].length-1;++i)for(d=0;d<data.length-1;++d)x[i][d]=m(data,i,d,t);k=function(data,e,o){var t,r,n,l,path,d,f,y,m,w,v,B,x,k,_,A=[],E=data.length-1,M=data[0].length-1,j=["right","bottom","left","top"],T=[0,-1,0,1],C=[-1,0,1,0],S={bottom:1,left:2,top:3,right:0};return o.noFrame||function(data,e){var o,t,r,i,n;for(o=!0,t=data[0].length,r=data.length,n=0;n<r;n++)if(data[n][0]>=e||data[n][t-1]>=e){o=!1;break}if(o&&(data[r-1][0]>=e||data[r-1][t-1]>=e)&&(o=!1),o)for(i=0;i<t-1;i++)if(data[0][i]>=e||data[r-1][i]>e){o=!1;break}return o}(data,o.threshold)&&(o.linearRing?A.push([[0,0],[0,E],[M,E],[M,0],[0,0]]):A.push([[0,0],[0,E],[M,E],[M,0]])),e.forEach((function(a,i){a.forEach((function(N,D){for(t=null,r=0;r<4;r++)if(t=j[r],"object"==typeof N.edges[t]){for(path=[],n=N.edges[t],d=t,f=i,y=D,m=!1,w=[i+n.path[0][0],D+n.path[0][1]],path.push(w);!m&&"object"==typeof(l=e[f][y]).edges[d];)if(n=l.edges[d],delete l.edges[d],(v=n.path[1])[0]+=f,v[1]+=y,path.push(v),d=n.move.enter,f+=n.move.x,y+=n.move.y,void 0===e[f]||void 0===e[f][y]){if(!o.linearRing)break;if(B=0,x=0,f===M?(f--,B=0):f<0?(f++,B=2):y===E?(y--,B=3):y<0&&(y++,B=1),f===i&&y===D&&B===S[t]){m=!0,d=t;break}for(;;){if(k=!1,x>4)throw new Error("Direction change counter overflow! This should never happen!");if(void 0!==e[f]&&void 0!==e[f][y]&&(l=e[f][y],_=j[B],"object"==typeof l.edges[_])){n=l.edges[_],path.push(h(f,y,B,n.path)),d=_,k=!0;break}if(k)break;if(path.push(c(f,y,B)),y+=C[B],void 0!==e[f+=T[B]]&&void 0!==e[f][y]||(0===B&&y<0||1===B&&f<0||2===B&&y===E||3===B&&f===M)&&(f-=T[B],y-=C[B],B=(B+1)%4,x++),f===i&&y===D&&B===S[t]){m=!0,d=t;break}}}!o.linearRing||path[path.length-1][0]===w[0]&&path[path.length-1][1]===w[1]||path.push(w),A.push(path)}}))})),A}(data,x,t)}w?_.push(k):_=k,"function"==typeof t.successCallback&&t.successCallback(_,e)})),_}function m(e,o,t,r){var n,l,h,c,d,f,y=0,m=e[t+1][o],w=e[t+1][o+1],v=e[t][o+1],B=e[t][o],x=r.threshold;if(!(isNaN(B)||isNaN(v)||isNaN(w)||isNaN(m))){switch(y|=m>=x?8:0,y|=w>=x?4:0,y|=v>=x?2:0,f={cval:y=+(y|=B>=x?1:0),polygons:[],edges:{},x0:B,x1:v,x2:w,x3:m},y){case 0:r.polygons&&f.polygons.push([[0,0],[0,1],[1,1],[1,0]]);break;case 15:break;case 14:n=r.interpolate(B,m,x),c=r.interpolate(B,v,x),r.polygons_full&&(f.edges.left={path:[[0,n],[c,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&f.polygons.push([[0,0],[0,n],[c,0]]);break;case 13:c=r.interpolate(B,v,x),l=r.interpolate(v,w,x),r.polygons_full&&(f.edges.bottom={path:[[c,0],[1,l]],move:{x:1,y:0,enter:"left"}}),r.polygons&&f.polygons.push([[c,0],[1,l],[1,0]]);break;case 11:l=r.interpolate(v,w,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.right={path:[[1,l],[h,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&f.polygons.push([[1,l],[h,1],[1,1]]);break;case 7:n=r.interpolate(B,m,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.top={path:[[h,1],[0,n]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&f.polygons.push([[h,1],[0,n],[0,1]]);break;case 1:n=r.interpolate(B,m,x),c=r.interpolate(B,v,x),r.polygons_full&&(f.edges.bottom={path:[[c,0],[0,n]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&f.polygons.push([[c,0],[0,n],[0,1],[1,1],[1,0]]);break;case 2:c=r.interpolate(B,v,x),l=r.interpolate(v,w,x),r.polygons_full&&(f.edges.right={path:[[1,l],[c,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&f.polygons.push([[0,0],[0,1],[1,1],[1,l],[c,0]]);break;case 4:l=r.interpolate(v,w,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.top={path:[[h,1],[1,l]],move:{x:1,y:0,enter:"left"}}),r.polygons&&f.polygons.push([[0,0],[0,1],[h,1],[1,l],[1,0]]);break;case 8:n=r.interpolate(B,m,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.left={path:[[0,n],[h,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&f.polygons.push([[0,0],[0,n],[h,1],[1,1],[1,0]]);break;case 12:n=r.interpolate(B,m,x),l=r.interpolate(v,w,x),r.polygons_full&&(f.edges.left={path:[[0,n],[1,l]],move:{x:1,y:0,enter:"left"}}),r.polygons&&f.polygons.push([[0,0],[0,n],[1,l],[1,0]]);break;case 9:c=r.interpolate(B,v,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.bottom={path:[[c,0],[h,1]],move:{x:0,y:1,enter:"bottom"}}),r.polygons&&f.polygons.push([[c,0],[h,1],[1,1],[1,0]]);break;case 3:n=r.interpolate(B,m,x),l=r.interpolate(v,w,x),r.polygons_full&&(f.edges.right={path:[[1,l],[0,n]],move:{x:-1,y:0,enter:"right"}}),r.polygons&&f.polygons.push([[0,n],[0,1],[1,1],[1,l]]);break;case 6:c=r.interpolate(B,v,x),h=r.interpolate(m,w,x),r.polygons_full&&(f.edges.top={path:[[h,1],[c,0]],move:{x:0,y:-1,enter:"top"}}),r.polygons&&f.polygons.push([[0,0],[0,1],[h,1],[c,0]]);break;case 10:n=r.interpolate(B,m,x),l=r.interpolate(v,w,x),c=r.interpolate(B,v,x),h=r.interpolate(m,w,x),d=(B+v+w+m)/4,r.polygons_full&&(d<x?(f.edges.left={path:[[0,n],[h,1]],move:{x:0,y:1,enter:"bottom"}},f.edges.right={path:[[1,l],[c,0]],move:{x:0,y:-1,enter:"top"}}):(f.edges.right={path:[[1,l],[h,1]],move:{x:0,y:1,enter:"bottom"}},f.edges.left={path:[[0,n],[c,0]],move:{x:0,y:-1,enter:"top"}})),r.polygons&&(d<x?f.polygons.push([[0,0],[0,n],[h,1],[1,1],[1,l],[c,0]]):(f.polygons.push([[0,0],[0,n],[c,0]]),f.polygons.push([[h,1],[1,1],[1,l]])));break;case 5:n=r.interpolate(B,m,x),l=r.interpolate(v,w,x),c=r.interpolate(B,v,x),h=r.interpolate(m,w,x),d=(B+v+w+m)/4,r.polygons_full&&(d<x?(f.edges.bottom={path:[[c,0],[0,n]],move:{x:-1,y:0,enter:"right"}},f.edges.top={path:[[h,1],[1,l]],move:{x:1,y:0,enter:"left"}}):(f.edges.top={path:[[h,1],[0,n]],move:{x:-1,y:0,enter:"right"}},f.edges.bottom={path:[[c,0],[1,l]],move:{x:1,y:0,enter:"left"}})),r.polygons&&(d<x?f.polygons.push([[0,n],[0,1],[h,1],[1,l],[1,0],[c,0]]):(f.polygons.push([[0,n],[0,1],[h,1]]),f.polygons.push([[c,0],[1,l],[1,0]])))}return f}}t.r(o),t.d(o,"marching_squares",(function(){return B})),d.prototype.cellsInBand=function(e,o,t){var r=[];return t=void 0===t||t,this.lowerBound>o||this.upperBound<e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(r=r.concat(this.childA.cellsInBand(e,o,t))),this.childB&&(r=r.concat(this.childB.cellsInBand(e,o,t))),this.childD&&(r=r.concat(this.childD.cellsInBand(e,o,t))),this.childC&&(r=r.concat(this.childC.cellsInBand(e,o,t)))):(t||this.lowerBound<=e||this.upperBound>=o)&&r.push({x:this.x,y:this.y})),r},d.prototype.cellsBelowThreshold=function(e,o){var t=[];return o=void 0===o||o,this.lowerBound>e||(this.childA||this.childB||this.childC||this.childD?(this.childA&&(t=t.concat(this.childA.cellsBelowThreshold(e,o))),this.childB&&(t=t.concat(this.childB.cellsBelowThreshold(e,o))),this.childD&&(t=t.concat(this.childD.cellsBelowThreshold(e,o))),this.childC&&(t=t.concat(this.childC.cellsBelowThreshold(e,o)))):(o||this.upperBound>=e)&&t.push({x:this.x,y:this.y})),t};onmessage=function({data:data}){let e=y(data[0],data[1]);postMessage(e)};const w=(e,o,t,r)=>{let a=[t+o.x/2,r],b=[t+o.x,r+o.y/2],n=[t+o.x/2,r+o.y],l=[t,r+o.y/2];switch(e){case 0:case 15:return[[]];case 1:case 14:return[[b,n]];case 2:case 13:return[[n,l]];case 3:return[[b,l]];case 4:case 11:return[[a,b]];case 5:case 10:return[[a,n]];case 6:return[[l,a],[b,n]];case 7:case 8:return[[a,l]];case 9:return[[a,b],[n,l]];case 12:return[[l,b]]}},v=(e,o,i,t)=>(e[i][t]>o?8:0)|(e[i][t+1]>o?4:0)|(e[i+1][t]>o?2:0)|(e[i+1][t+1]>o?1:0);function B({grid:e,res:o,threshold:t}){let r,n=[];for(let i=0;i<e.length-1;i++)for(let c=0;c<e[i].length-1;c++){var l=c*o.x,h=i*o.y;r=v(e,t,i,c),n.push(w(r,o,l,h))}return n}}]);